{% extends "base.html" %}

{% block content %}
<aside class="w-64 bg-card border-r border-border flex flex-col shadow-lg">
  <div class="p-6 border-b border-border">
    <div class="flex items-center space-x-3">
      <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
        <i class="fas fa-heart text-primary-foreground"></i>
      </div>
      <div>
        <h1 class="text-lg font-semibold text-card-foreground">SepsisGuard</h1>
        <p class="text-sm text-muted-foreground">Medical Dashboard</p>
      </div>
    </div>
  </div>

  <nav class="flex-1 p-4">
    <ul class="space-y-2">
      <li>
        <a 
          href="{% url 'dashboard' %}" 
          class="flex items-center space-x-3 px-3 py-2 rounded-md bg-primary text-primary-foreground"
          data-testid="nav-dashboard"
        >
          <i class="fas fa-chart-bar"></i>
          <span class="font-medium">Dashboard</span>
        </a>
      </li>
      <li>
        <a 
          href="{% url 'patients' %}" 
          class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"
          data-testid="nav-patients"
        >
          <i class="fas fa-users"></i>
          <span>Patients</span>
        </a>
      </li>
      <li>
        <a 
          href="{% url 'schedule' %}" 
          class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"
          data-testid="nav-schedule"
        >
          <i class="fas fa-clock"></i>
          <span>Schedule</span>
        </a>
      </li>
      <li>
        <a 
          href="{% url 'alerts' %}" 
          class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"
          data-testid="nav-alerts"
        >
          <i class="fas fa-bell"></i>
          <span>Alerts</span>
          <span class="ml-auto bg-destructive text-destructive-foreground text-xs px-2 py-1 rounded-full">{{ alert_count }}</span>
        </a>
      </li>
      <li>
        <a 
          href="{% url 'settings' %}" 
          class="flex items-center space-x-3 px-3 py-2 rounded-md text-muted-foreground hover:bg-accent hover:text-accent-foreground transition-colors"
          data-testid="nav-settings"
        >
          <i class="fas fa-cog"></i>
          <span>Settings</span>
        </a>
      </li>
    </ul>
  </nav>

  <div class="p-4 border-t border-border">
    <div class="flex items-center justify-between">
      <span class="text-sm text-muted-foreground">Night Shift Mode</span>
      <form method="post" action="{% url 'toggle_dark_mode' %}">
        {% csrf_token %}
        <button 
          type="submit"
          class="w-12 h-6 bg-muted rounded-full relative transition-colors"
          data-testid="toggle-dark-mode"
        >
          <div 
            class="w-5 h-5 bg-background rounded-full absolute top-0.5 transition-transform duration-200 ease-in-out shadow-sm {% if is_dark %}translate-x-6{% else %}translate-x-0.5{% endif %}"
          ></div>
        </button>
      </form>
    </div>
    <div class="mt-4 text-center">
      <p class="text-xs text-muted-foreground">Last Update</p>
      <p class="text-sm font-mono" data-testid="text-last-update">{{ last_update }}</p>
    </div>
  </div>
</aside>
{% endblock %}